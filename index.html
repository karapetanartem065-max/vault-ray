<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VAULT RAY</title>
    <style>
        :root { --sber: #21a038; --bg: #000; --card: #151517; --gray: #8e8e93; }
        * { touch-action: manipulation; -webkit-tap-highlight-color: transparent; box-sizing: border-box; }
        body { margin: 0; background: var(--bg); color: #fff; font-family: -apple-system, sans-serif; height: 100vh; overflow: hidden; display: flex; flex-direction: column; }
        
        /* HEADER */
        .header { padding: 60px 20px 25px; background: var(--card); border-radius: 0 0 24px 24px; border-bottom: 0.5px solid #333; }
        .user-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .vip-tag { font-size: 10px; color: var(--sber); border: 1px solid var(--sber); padding: 2px 6px; border-radius: 4px; font-weight: bold; }
        .balance { font-size: 42px; font-weight: 700; margin-top: 5px; letter-spacing: -1px; }
        .green { color: var(--sber); }

        /* MAIN CLICKER */
        .main { flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .click-circle { width: 220px; height: 220px; background: radial-gradient(circle, var(--sber) 0%, #1a5c24 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 50px rgba(33, 160, 56, 0.3); border: 8px solid rgba(255,255,255,0.05); transition: 0.05s; cursor: pointer; }
        
        /* NAVIGATION */
        .nav { position: fixed; bottom: 0; width: 100%; height: 85px; background: rgba(20,20,22,0.98); display: flex; border-top: 0.5px solid #333; backdrop-filter: blur(15px); }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 10px; color: var(--gray); text-transform: uppercase; letter-spacing: 0.5px; }
        .nav-item.active { color: var(--sber); }
        .nav-icon { font-size: 20px; margin-bottom: 4px; }

        /* SHEETS (Windows) */
        .sheet { position: fixed; top: 100%; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 1000; transition: 0.4s cubic-bezier(0, 0.5, 0.5, 1); padding-top: 50px; }
        .sheet.open { top: 0; }
        .sheet-content { padding: 20px; }
        .card-item { background: var(--card); padding: 15px; border-radius: 16px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
        .btn-pay { background: #fff; color: #000; border: none; padding: 10px 15px; border-radius: 10px; font-weight: bold; }
        
        /* COUNTRY LEADERBOARD */
        .flag { width: 24px; margin-right: 10px; }
    </style>
</head>
<body>

    <div class="header">
        <div class="user-row">
            <span class="label" id="txt-status" onclick="handleAdmin()">VAULT RAY SYSTEM</span>
            <span class="vip-tag">VIP</span>
        </div>
        <div class="balance"><span id="score">0</span> <span class="green">VR</span></div>
    </div>

    <div class="main" id="view-main">
        <div id="tapper" class="click-circle"><div style="font-weight:900; font-size:28px;">RAY</div></div>
        <div style="width: 90%; margin-top: 40px;">
            <div style="display:flex; justify-content:space-between; font-size:12px; color:var(--gray); margin-bottom:8px;">
                <span id="txt-energy">–≠–Ω–µ—Ä–≥–∏—è</span><span id="e-text">1000/1000</span>
            </div>
            <div style="height:6px; background:#333; border-radius:3px; overflow:hidden;">
                <div id="fill" style="height:100%; background:var(--sber); width:100%;"></div>
            </div>
        </div>
    </div>

    <!-- MARKET -->
    <div id="view-market" class="sheet">
        <div class="sheet-content">
            <h2 id="txt-market-title">–ú–∞—Ä–∫–µ—Ç</h2>
            <div class="card-item">
                <div><b id="txt-up-click">–ú—É–ª—å—Ç–∏-—Ç–∞–ø</b><br><small>+1 VR</small></div>
                <button class="btn-pay" onclick="buy('click', 1000, 1)">1,000</button>
            </div>
            <div class="card-item" style="border: 1px solid var(--sber);">
                <div><b id="txt-buy-stars">–ö—É–ø–∏—Ç—å VR</b><br><small>—á–µ—Ä–µ–∑ Telegram</small></div>
                <button class="btn-pay" style="background:var(--sber); color:#fff;" onclick="startPayment()">BUY</button>
            </div>
        </div>
    </div>

    <!-- RATING -->
    <div id="view-rating" class="sheet">
        <div class="sheet-content">
            <h2 id="txt-rating-title">–ú–∏—Ä–æ–≤–æ–π –†–µ–π—Ç–∏–Ω–≥</h2>
            <div class="card-item"><div>üá∑üá∫ Russia</div><b>1.2B RAY</b></div>
            <div class="card-item"><div>üá∫üá∏ USA</div><b>890M RAY</b></div>
            <div class="card-item"><div>üá¶üá™ UAE</div><b>540M RAY</b></div>
        </div>
    </div>

    <nav class="nav">
        <div class="nav-item active" onclick="showView('main')"><span class="nav-icon">üè¶</span><span id="nav-main">–ì–ª–∞–≤–Ω—ã–π</span></div>
        <div class="nav-item" onclick="showView('market')"><span class="nav-icon">üõçÔ∏è</span><span id="nav-market">–ú–∞—Ä–∫–µ—Ç</span></div>
        <div class="nav-item" onclick="showView('rating')"><span class="nav-icon">üèÜ</span><span id="nav-rating">–†–µ–π—Ç–∏–Ω–≥</span></div>
    </nav>

    <script>
        const lang = navigator.language.startsWith('ru') ? 'ru' : 'en';
        const strings = {
            ru: { main: "–ì–ª–∞–≤–Ω—ã–π", market: "–ú–∞—Ä–∫–µ—Ç", rating: "–†–µ–π—Ç–∏–Ω–≥", energy: "–≠–Ω–µ—Ä–≥–∏—è", upClick: "–ú—É–ª—å—Ç–∏-—Ç–∞–ø", buyVR: "–ö—É–ø–∏—Ç—å VR" },
            en: { main: "Home", market: "Market", rating: "Rating", energy: "Energy", upClick: "Multi-tap", buyVR: "Buy VR" }
        };

        let bal = parseInt(localStorage.getItem('vr_bal')) || 0;
        let pwr = parseInt(localStorage.getItem('vr_pwr')) || 1;
        let nrg = 1000;

        function initLang() {
            document.getElementById('nav-main').innerText = strings[lang].main;
            document.getElementById('nav-market').innerText = strings[lang].market;
            document.getElementById('nav-rating').innerText = strings[lang].rating;
            document.getElementById('txt-energy').innerText = strings[lang].energy;
            document.getElementById('txt-up-click').innerText = strings[lang].upClick;
            document.getElementById('txt-buy-stars').innerText = strings[lang].buyVR;
        }

        function sync() {
            document.getElementById('score').innerText = bal.toLocaleString();
            document.getElementById('e-text').innerText = nrg + '/1000';
            document.getElementById('fill').style.width = (nrg / 10) + '%';
            localStorage.setItem('vr_bal', bal);
        }

        function showView(view) {
            document.querySelectorAll('.sheet').forEach(s => s.classList.remove('open'));
            if(view !== 'main') document.getElementById('view-' + view).classList.add('open');
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            event.currentTarget.classList.add('active');
        }

        const tapper = document.getElementById('tapper');
        tapper.addEventListener('touchstart', (e) => {
            e.preventDefault();
            if (nrg >= pwr) {
                bal += pwr; nrg -= pwr;
                if(navigator.vibrate) navigator.vibrate(10);
                sync();
            }
        });

        function startPayment() {
            // –¢—É—Ç –≤—ã–∑—ã–≤–∞–µ–º —Ç–≤–æ–µ–≥–æ –±–æ—Ç–∞ –¥–ª—è –æ–ø–ª–∞—Ç—ã
            alert(lang === 'ru' ? "–ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø–ª–∞—Ç–µ –≤ –±–æ—Ç–µ..." : "Redirecting to payment bot...");
            window.location.href = "https://t.me"; // –°–°–´–õ–ö–ê –ù–ê –¢–í–û–ï–ì–û –ë–û–¢–ê
        }

        function buy(t, p, b) {
            if(bal >= p) { bal -= p; if(t==='click') pwr += b; sync(); }
        }

        setInterval(() => { if(nrg < 1000) nrg += 2; sync(); }, 1000);
        initLang(); sync();
    </script>
</body>
</html>

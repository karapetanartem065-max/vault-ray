<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VAULT RAY PRIVATE</title>
    <style>
        :root { --sber-green: #21a038; --bg: #000; --card: #151517; }
        * { touch-action: manipulation; -webkit-tap-highlight-color: transparent; box-sizing: border-box; }
        body { margin: 0; background: var(--bg); color: #fff; font-family: -apple-system, sans-serif; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }

        /* HEADER */
        .header { padding: 60px 20px 30px; background: var(--card); border-radius: 0 0 24px 24px; }
        .label { color: #8e8e93; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; }
        .balance { font-size: 44px; font-weight: 700; margin-top: 5px; }
        .green { color: var(--sber-green); }

        /* MAIN AREA */
        .main { flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .diamond-btn {
            width: 240px; height: 240px; background: var(--sber-green); border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 50px rgba(33,160,56,0.4); border: 8px solid rgba(255,255,255,0.1);
            transition: transform 0.05s; cursor: pointer;
        }
        .diamond-btn:active { transform: scale(0.92); }
        .tap-icon { font-size: 40px; font-weight: 900; color: #000; }

        /* ENERGY */
        .energy-wrap { width: 85%; background: var(--card); padding: 15px; border-radius: 20px; margin-bottom: 120px; }
        .energy-txt { font-size: 13px; color: #8e8e93; display: flex; justify-content: space-between; margin-bottom: 10px; }
        .bar { height: 6px; background: #333; border-radius: 3px; overflow: hidden; }
        #fill { height: 100%; background: var(--sber-green); width: 100%; transition: 0.2s; }

        /* TAB BAR */
        .nav { position: fixed; bottom: 0; width: 100%; height: 85px; background: #111; display: flex; border-top: 1px solid #222; }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #555; font-size: 11px; }
        .nav-item.active { color: var(--sber-green); }

        /* MARKET SHEET */
        #shop { position: fixed; top: 100%; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 100; transition: 0.3s; }
        #shop.open { top: 0; }
        .shop-box { position: absolute; bottom: 0; width: 100%; background: var(--card); border-radius: 24px 24px 0 0; padding: 30px; }
        .item { background: #222; padding: 20px; border-radius: 16px; display: flex; justify-content: space-between; align-items: center; }
        .buy { background: var(--sber-green); border: none; color: #fff; padding: 12px 20px; border-radius: 12px; font-weight: bold; }
    </style>
</head>
<body>

    <div class="header">
        <div class="label">–ë–∞–ª–∞–Ω—Å —Å—á–µ—Ç–∞ (RAY)</div>
        <div class="balance"><span id="score">0</span> <span class="green">‚ÇΩ</span></div>
    </div>

    <div class="main">
        <div id="tapper" class="diamond-btn">
            <span class="tap-icon">RAY</span>
        </div>
        
        <div class="energy-wrap">
            <div class="energy-txt">–õ–∏–º–∏—Ç: <span id="e-val">1000/1000</span></div>
            <div class="bar"><div id="fill"></div></div>
        </div>
    </div>

    <div id="shop" onclick="closeShop(event)">
        <div class="shop-box" onclick="event.stopPropagation()">
            <h2 style="margin-top:0">–ú–∞—Ä–∫–µ—Ç —É—Å–ª—É–≥</h2>
            <div class="item">
                <div><b>–ú—É–ª—å—Ç–∏-—Å—á–µ—Ç</b><br><small>+1 –∑–∞ –∫–ª–∏–∫</small></div>
                <button class="buy" onclick="doUpgrade()">1,000 ‚ÇΩ</button>
            </div>
            <button onclick="toggleShop(false)" style="margin-top:20px; width:100%; background:none; border:1px solid #444; color:#888; padding:10px; border-radius:10px;">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
    <nav class="nav">
        <div class="nav-item active" onclick="toggleShop(false)">üè¶ –°—á–µ—Ç–∞</div>
        <div class="nav-item" onclick="toggleShop(true)">üõçÔ∏è –ú–∞—Ä–∫–µ—Ç</div>
        <div class="nav-item">üìà –ë–∏—Ä–∂–∞</div>
    </nav>

    <script>
        let balance = parseInt(localStorage.getItem('v_b')) || 0;
        let energy = 1000;
        let power = parseInt(localStorage.getItem('v_p')) || 1;

        function refresh() {
            document.getElementById('score').innerText = balance.toLocaleString('ru-RU');
            document.getElementById('e-val').innerText = energy + "/1000";
            document.getElementById('fill').style.width = (energy / 10) + '%';
        }

        // –°–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π –º–µ—Ç–æ–¥ –∫–ª–∏–∫–∞ –¥–ª—è —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤
        const btn = document.getElementById('tapper');
        btn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            if (energy >= power) {
                balance += power;
                energy -= power;
                refresh();
                localStorage.setItem('v_b', balance);
                if(navigator.vibrate) navigator.vibrate(15);
            }
        });

        function toggleShop(show) {
            document.getElementById('shop').classList.toggle('open', show);
        }

        function closeShop(e) { toggleShop(false); }

        function doUpgrade() {
            if (balance >= 1000) {
                balance -= 1000; power += 1;
                localStorage.setItem('v_b', balance);
                localStorage.setItem('v_p', power);
                refresh();
                alert('–£—Å–ª—É–≥–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞!');
            }
        }

        setInterval(() => { if(energy < 1000) { energy += 2; refresh(); } }, 1000);
        refresh();
    </script>
</body>
</html>
